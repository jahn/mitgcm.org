<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (X11; U; Linux 2.2.14-5.0 i686) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">

<center>
<h1>
Obtaining MITgcm source using CVS</h1></center>

<h2>
Environment</h2>

<blockquote>
<pre>setenv CVSROOT :pserver:cvsanon@mitgcm.org:/u/u0/gcmpack
cvs login ( CVS password: cvsanon )</pre>
</blockquote>
You only need to do "cvs login" once but the environment should be set
in you .cshrc or .tcshrc.
<h2>
To obtain the latest source (with CVS information)</h2>

<blockquote>
<pre>cvs co -d <i>directory</i> -P MITgcm</pre>
</blockquote>
This creates a directory called <i>directory</i>. If <i>directory</i> already
exists this command updates your code based on the repository (see "Getting
updates from the repository" below). Each directory in the source tree
with contain a directory "CVS". This contains information required by CVS
to keep track of your file versions with respect to the repository. <i>Don't
edit the files in CVS</i>.
<p>You can also "check out" a particular version of the code. We use the
notion of checkpoints to indicate the evolution of the code. To specify
which "tag" you require use the -r option:
<blockquote>
<pre>cvs co -d <i>directory</i> -P -r release1_beta1 MITgcm</pre>
</blockquote>

<h2>
Show changes that YOU have made</h2>
If you are running into difficulties it is very useful to see the changes
that you yourself have made since obtaining the code.
<br>From within your working directory:
<blockquote>
<pre>cvs diff</pre>
</blockquote>
will show the differences between your version and the version that you
checked out. It acts recursively on all directories below your current
directory. You can limit the operation to just one file or directory by
specifying those as arguments:
<blockquote>
<pre>cvs diff <i>file</i></pre>
</blockquote>

<h2>
Show changes to the repository that you don't have</h2>
The source code evolves continuously and you should try to stay up to date.
To see what needs to be updated:
<blockquote>
<pre>cvs -n update</pre>
</blockquote>
behaves just as "cvs update" but doesn't actually change anything. This
is a useful way of summarizing the state
<br>of your code. The meaning of the output is summarized in the next topic.
<h2>
Getting updates from the repository</h2>
You can download and merge updates from the repository to bring you working
code up to date:
<blockquote>
<pre>cvs update -d -P</pre>
</blockquote>
will work recursively on all files in the current directory and below.
To update just a specific file or
<br>directory:
<blockquote>
<pre>cvs update <i>file</i></pre>
</blockquote>
You can also update to a specific version, just as you could check out
a specific version.
<blockquote>
<pre>cvs update -d -P -r release1_beta1</pre>
</blockquote>
If you checked out a specific version and want to update to the very latest
use the -A option will remove associated with a specific version as follows:
<blockquote>
<pre>cvs update -d -P -A</pre>
</blockquote>
"cvs update" produces output to the terminal with the following meanings:
<br>&nbsp;
<table BORDER CELLPADDING=3 WIDTH="80%" NOSAVE >
<tr ALIGN=LEFT VALIGN=TOP NOSAVE>
<td NOSAVE>U <i>file</i></td>

<td>indicates that <i>file</i> was brought up to date with the repository
or that it exists in the repository but not in your work space.</td>
</tr>

<tr>
<td>P <i>file</i></td>

<td>does exactly as above but uses the "patch" method.</td>
</tr>

<tr ALIGN=LEFT VALIGN=TOP>
<td ALIGN=LEFT VALIGN=TOP>M <i>file</i></td>

<td>means the <i>file</i> was modified in your work space. Any additional
changes from the repository were merged in successfully.</td>
</tr>

<tr>
<td>C <i>file</i></td>

<td>means a merge is necessary because both the your copy and the repository
have changed <b>but</b> there is a conflict between the changes.</td>
</tr>

<tr>
<td>? <i>file</i></td>

<td>means the file exists in your work space but not on the repository.</td>
</tr>
</table>

<p>When conflicts arise, the sections of code are both kept and surrounded
by &lt;&lt;&lt;&lt;&lt;, ===== and >>>>> indicators. You need to
<br>examine these lines of the files and resolve the conflict.
<h2>
Wow! CVS is so good, where can I learn more?</h2>
The <a href="http://www.loria.fr/~molli/cvs/doc/cvs_toc.html">basic manual</a>
is a good reference. There is also an <a href="http://www.loria.fr/~molli/cvs/cvs-tut/cvs_tutorial_toc.html">online
tutorial</a> as well as an <a href="http://www.loria.fr/~molli/cvs/cvstrain/cvstrain.html">training
manual</a>. For those who prefer the good old fashioned book there's <a href="http://cvsbook.red-bean.com/">"Open
Source Development With CVS"</a>.
<br>
<hr WIDTH="100%">
<table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE >
<tr NOSAVE>
<td NOSAVE>Last modified on $Date: 2001/10/04 12:58:28 $</td>

<td>
<div align=right>CVS: $Source: /u/gcmpack/mitgcm.org/usingcvstoget.html,v
$Revision: 1.4 $</div>
</td>
</tr>
</table>

</body>
</html>
